FROM node:alpine

ENV REACT_APP_PORTAL_AUTH_DOMAIN='maana.auth0.com'
ENV REACT_APP_PORTAL_AUTH_CLIENT_ID='xU8oYG36WRWgS46CqDToFDeDil0L19Tw'
ENV REACT_APP_PORTAL_AUTH_CLIENT_SECRET='7O4Y-fBI3oSd2eiQ5XleDrI_NpjTcbpGprw4m9tqRfvxVSai2CkQjX9HKPXWFp3k'
ENV REACT_APP_PORTAL_AUTH_IDENTIFIER='https://maana.auth0.com/api/v2/'
ENV PORT=80

#.env
ENV AZURE_STORAGE_ACCOUNT=maanalateststorage
ENV AZURE_STORAGE_ACCESS_KEY=12QgrNq8c7J/N2PzDD2dkhMT69EuMcafz7+OJSz3uVDQ7pT+9DD3j0L3SJ8et/17HZCGJnUxwLTelE6GHlzWPQ==
ENV AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=maanalateststorage;AccountKey=12QgrNq8c7J/N2PzDD2dkhMT69EuMcafz7+OJSz3uVDQ7pT+9DD3j0L3SJ8et/17HZCGJnUxwLTelE6GHlzWPQ==;EndpointSuffix=core.windows.net

WORKDIR /app

COPY package.json /app
RUN npm install


COPY . /app

CMD npm run dev

EXPOSE 80


